{"version":3,"sources":["instapi.js","index.js"],"names":["search","user","fetch","then","res","json","data","children","map","catch","console","log","err","searchInput","document","getElementById","form","addEventListener","searchstr","value","alert","output","results","forEach","image","post","preview","images","source","url","truncateText","title","selftext","subreddit","score","innerHTML","e","preventDefault","str","limit","short","indexOf","substring"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;AAEA,IAAMa,cAAcC,SAASC,cAAT,CAAwB,cAAxB,CAApB;AACA,IAAMC,OAAOF,SAASC,cAAT,CAAwB,MAAxB,CAAb;;AAEAC,KAAKC,gBAAL,CAAsB,QAAtB,EAAgC,aAAK;AACjC,QAAMC,YAAYL,YAAYM,KAA9B;AACA,QAAGD,cAAc,EAAjB,EAAoB;AAChBE,cAAM,yBAAN;AACH;;AAED;AACAP,gBAAYM,KAAZ,GAAoB,EAApB;;AAEA;AACA,sBAAUnB,MAAV,CAAiBkB,SAAjB,EACCf,IADD,CACM,mBAAW;AACb,YAAIkB,SAAS,qCAAb;AACAC,gBAAQC,OAAR,CAAgB,gBAAQ;;AAEpB,gBAAIC,QAAQC,KAAKC,OAAL,GAAeD,KAAKC,OAAL,CAAaC,MAAb,CAAoB,CAApB,EAAuBC,MAAvB,CAA8BC,GAA7C,GAAoD,qEAAhE;;AAEAR,2IAGoBG,KAHpB,qJAM+CM,aAAaL,KAAKM,KAAlB,EAAyB,GAAzB,CAN/C,uDAO4BD,aAAaL,KAAKO,QAAlB,EAA2B,GAA3B,CAP5B,kGAUeP,KAAKI,GAVpB,8HAYqDJ,KAAKQ,SAZ1D,iFAasDR,KAAKS,KAb3D;AAkBH,SAtBD;AAuBAb,kBAAU,cAAV;AACAP,iBAASC,cAAT,CAAwB,SAAxB,EAAmCoB,SAAnC,GAA+Cd,MAA/C;AACH,KA5BD;;AA8BAe,MAAEC,cAAF;AACH,CAzCD;;AA2CA,SAASP,YAAT,CAAsBQ,GAAtB,EAA2BC,KAA3B,EAAkC;AAC9B,QAAMC,QAAQF,IAAIG,OAAJ,CAAY,GAAZ,EAAiBF,KAAjB,CAAd;AACA,QAAGC,SAAS,CAAC,CAAb,EAAgB,OAAOF,GAAP;AAChBA,UAAMA,IAAII,SAAJ,CAAc,CAAd,EAAiBF,KAAjB,CAAN;AACAF,WAAO,MAAP;AACA,WAAOA,GAAP;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBDtDc;AACXtC,YAAQ,gBAASC,IAAT,EAAe;AACnB,eAAOC,gDAA8CD,IAA9C,cAA2D,WAA3D,eAAgF,EAAhF,EACNE,IADM,CACD;AAAA,mBAAOC,IAAIC,IAAJ,EAAP;AAAA,SADC,EAENF,IAFM,CAED;AAAA,mBAAQG,KAAKA,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuB;AAAA,uBAAQF,KAAKA,IAAb;AAAA,aAAvB,CAAR;AAAA,SAFC,EAGNG,KAHM,CAGA;AAAA,mBAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,SAHA,CAAP;AAKH;AAPU","file":"instasearch.map","sourcesContent":["export default {\r\n    search: function(user) {\r\n        return fetch(`https://www.reddit.com/search.json?q=${user}&sort=${\"relevalce\"}&limit=${25}`)\r\n        .then(res => res.json())\r\n        .then(data => data.data.children.map(data => data.data))\r\n        .catch(err => console.log(err));\r\n\r\n    }\r\n};","import instagram from './instapi';\r\n\r\nconst searchInput = document.getElementById('search-input');\r\nconst form = document.getElementById('form');\r\n\r\nform.addEventListener('submit', e => {\r\n    const searchstr = searchInput.value;\r\n    if(searchstr === ''){\r\n        alert('please enter a username');\r\n    }\r\n\r\n    // Clear input\r\n    searchInput.value = '';\r\n\r\n    // Search instagram\r\n    instagram.search(searchstr)\r\n    .then(results => {\r\n        let output = '<div class =\"row\"><div class=\"col\">';\r\n        results.forEach(post => {\r\n\r\n            let image = post.preview ? post.preview.images[0].source.url :  'https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg';\r\n\r\n            output += `\r\n            <div class=\"card large\">\r\n                <div class=\"card-image\">\r\n                    <img src=\"${image}\">\r\n                </div> \r\n                <div class=\"card-content black-text\">\r\n                <span class=\"card-title black-text bold\">${truncateText(post.title, 100)}</span>\r\n                <p class=\"black-text\">${truncateText(post.selftext,100)}</p>\r\n            </div>\r\n            <div class=\"card-action\">\r\n                <a href=\"${post.url}\" target=\"_blank\">Read more</a>\r\n                <hr>\r\n                <span class=\"blue badge white-text\">Subreddit: ${post.subreddit}</span>\r\n                <span class=\"black badge white-text\">Subreddit: ${post.score}</span>\r\n            </div>\r\n            </div>\r\n                \r\n            `;\r\n        });\r\n        output += '</div></div>'\r\n        document.getElementById('results').innerHTML = output;\r\n    });\r\n    \r\n    e.preventDefault();\r\n})\r\n\r\nfunction truncateText(str, limit) {\r\n    const short = str.indexOf(' ', limit);\r\n    if(short == -1) return str;\r\n    str = str.substring(0, short);\r\n    str += \"....\";\r\n    return str;\r\n}"]}